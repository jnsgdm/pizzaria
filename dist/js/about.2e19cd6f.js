"use strict";(self["webpackChunkthe_pizzaria"]=self["webpackChunkthe_pizzaria"]||[]).push([[443],{355:function(t,a,e){e.r(a),e.d(a,{default:function(){return M}});var s=e(252);const o={class:"main-container"};function n(t,a,e,n,i,l){const r=(0,s.up)("PizzaForm");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(r)])}var i=e(963),l=e(577);const r=t=>((0,s.dD)("data-v-76c8f6c8"),t=t(),(0,s.Cn)(),t),d=r((()=>(0,s._)("h1",null,"Faça seu pedido",-1))),c={class:"input-container"},u=r((()=>(0,s._)("label",{class:"title-label",for:"nome"},"Nome cliente:",-1))),m={class:"input-container"},p=r((()=>(0,s._)("label",{class:"title-label",for:"sabor"},"Escolha o sabor:",-1))),h=r((()=>(0,s._)("option",{value:""},"--",-1))),b=["value"],v={class:"input-container"},g=r((()=>(0,s._)("label",{class:"title-label",for:"borda"},"Escolha o sabor da borda:",-1))),w=r((()=>(0,s._)("option",{value:""},"--",-1))),_=["value"],z=r((()=>(0,s._)("div",{class:"input-container"},[(0,s._)("input",{type:"submit",class:"submit-btn",value:"Finalizar pedido"})],-1)));function f(t,a,e,o,n,r){const f=(0,s.up)("Mensage");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",null,[(0,s._)("form",{id:"pizza-form",onSubmit:a[3]||(a[3]=t=>r.postOrder(t))},[d,(0,s.wy)((0,s.Wm)(f,{msg:n.msg},null,8,["msg"]),[[i.F8,n.msg]]),(0,s._)("div",c,[u,(0,s.wy)((0,s._)("input",{type:"text",id:"nome",name:"nome","onUpdate:modelValue":a[0]||(a[0]=t=>n.nome=t),placeholder:"Digite seu nome"},null,512),[[i.nr,n.nome]])]),(0,s._)("div",m,[p,(0,s.wy)((0,s._)("select",{name:"sabor",id:"sabor","onUpdate:modelValue":a[1]||(a[1]=t=>n.sabor=t)},[h,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.sabores,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.sabor},(0,l.zw)(t.sabor),9,b)))),128))],512),[[i.bM,n.sabor]])]),(0,s._)("div",v,[g,(0,s.wy)((0,s._)("select",{name:"borda",id:"borda","onUpdate:modelValue":a[2]||(a[2]=t=>n.borda=t)},[w,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.bordas,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.tipo},(0,l.zw)(t.tipo),9,_)))),128))],512),[[i.bM,n.borda]])]),z],32)])])}const y={class:"msg-container"};function D(t,a,e,o,n,i){return(0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("p",null,(0,l.zw)(e.msg),1)])}var P={name:"Mensage",props:{msg:String}},C=e(744);const O=(0,C.Z)(P,[["render",D]]);var k=O,S={name:"PizzaForm",data(){return{sabores:null,bordas:null,nome:null,sabor:null,borda:null,status:null,msg:null}},methods:{async getPizzas(){const t=await fetch("http://localhost:3000/pizzas"),a=await t.json();console.log(a),this.sabores=a.sabores,this.bordas=a.bordas},async postOrder(t){t.preventDefault();const a={nome:this.nome,sabor:this.sabor,borda:this.borda,status:"Solicitado"},e=JSON.stringify(a),s=await fetch("http://localhost:3000/orders",{method:"POST",headers:{"Content-type":"application/json"},body:e}),o=await s.json();console.log(o),this.msg=`Pedido feito com sucesso, ${o.nome}!`,setTimeout((()=>{this.msg=""}),2e3),this.nome="",this.sabor="",this.borda=""}},mounted(){this.getPizzas()},components:{Mensage:k}};const j=(0,C.Z)(S,[["render",f],["__scopeId","data-v-76c8f6c8"]]);var F=j,E={name:"Pedir",components:{PizzaForm:F}};const H=(0,C.Z)(E,[["render",n]]);var M=H},576:function(t,a,e){e.r(a),e.d(a,{default:function(){return P}});var s=e(252);const o={class:"main-container"};function n(t,a,e,n,i,l){const r=(0,s.up)("PizzaGrid");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(r)])}var i=e(577);const l=t=>((0,s.dD)("data-v-e4a38016"),t=t(),(0,s.Cn)(),t),r={id:"pizza-table"},d=l((()=>(0,s._)("h1",null,"Pedidos:",-1))),c=l((()=>(0,s._)("div",null,[(0,s._)("div",{id:"table-head"},[(0,s._)("div",{class:"orderId"},"N°"),(0,s._)("div",null,"Cliente"),(0,s._)("div",null,"Pizza"),(0,s._)("div",null,"Borda"),(0,s._)("div",{class:"acoes"},"Status")])],-1))),u={id:"table-rows"},m={class:"orderId"},p={class:"acoes"},h=["onChange"],b=["value","selected"],v=["onClick"];function g(t,a,e,o,n,l){return(0,s.wg)(),(0,s.iD)("div",r,[d,c,(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.orders,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"row",key:t.id},[(0,s._)("div",m,(0,i.zw)(t.id),1),(0,s._)("div",null,(0,i.zw)(t.nome),1),(0,s._)("div",null,(0,i.zw)(t.sabor),1),(0,s._)("div",null,(0,i.zw)(t.borda),1),(0,s._)("div",p,[(0,s._)("select",{name:"status",id:"status",onChange:a=>l.updateOrder(a,t.id)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.status,(a=>((0,s.wg)(),(0,s.iD)("option",{key:a.id,value:a.tipo,selected:t.status==a.tipo},(0,i.zw)(a.tipo),9,b)))),128))],40,h),(0,s._)("button",{class:"delete-btn",onClick:a=>l.deleteOrder(t.id)},"Cancelar",8,v)])])))),128))])])}var w={name:"PizzaGrid",data(){return{orders:null,status:[]}},methods:{async getOrders(){const t=await fetch("http://localhost:3000/orders"),a=await t.json();this.orders=a,console.log(this.orders)},async getStatus(){const t=await fetch("http://localhost:3000/status"),a=await t.json();this.status=a,console.log(this.status)},async deleteOrder(t){const a=await fetch(`http://localhost:3000/orders/${t}`,{method:"DELETE"});await a.json();this.getOrders()},async updateOrder(t,a){const e=t.target.value,s=JSON.stringify({status:e}),o=await fetch(`http://localhost:3000/orders/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:s});await o.json()}},mounted(){this.getOrders(),this.getStatus()}},_=e(744);const z=(0,_.Z)(w,[["render",g],["__scopeId","data-v-e4a38016"]]);var f=z,y={name:"Status",components:{PizzaGrid:f}};const D=(0,_.Z)(y,[["render",n]]);var P=D}}]);
//# sourceMappingURL=about.2e19cd6f.js.map