{"ast":null,"code":"import Mensage from '../components/Mensage.vue';\nexport default {\n  name: \"PizzaForm\",\n\n  data() {\n    return {\n      sabores: null,\n      bordas: null,\n      nome: null,\n      sabor: null,\n      borda: null,\n      status: null,\n      msg: null\n    };\n  },\n\n  methods: {\n    //consumo dos dados\n    async getPizzas() {\n      const req = await fetch(\"http://localhost:3000/pizzas\");\n      const res = await req.json();\n      console.log(res);\n      this.sabores = res.sabores;\n      this.bordas = res.bordas;\n    },\n\n    async postOrder(e) {\n      e.preventDefault();\n      const order = {\n        nome: this.nome,\n        sabor: this.sabor,\n        borda: this.borda,\n        status: \"Solicitado\"\n      };\n      const orderJson = JSON.stringify(order); //especifico do json server\n\n      const req = await fetch(\"http://localhost:3000/orders\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        body: orderJson\n      });\n      const res = await req.json();\n      console.log(res);\n      this.msg = `Pedido feito com sucesso, ${res.nome}!`;\n      setTimeout(() => {\n        this.msg = '';\n      }, 2000);\n      this.nome = '';\n      this.sabor = '';\n      this.borda = '';\n    }\n\n  },\n\n  mounted() {\n    this.getPizzas();\n  },\n\n  components: {\n    Mensage\n  }\n};","map":{"version":3,"mappings":"AACA,OAAOA,OAAP,MAAoB,2BAApB;AAEA,eAAe;EACXC,IAAI,EAAE,WADK;;EAEXC,IAAI,GAAE;IACF,OAAM;MACFC,OAAO,EAAE,IADP;MAEFC,MAAM,EAAE,IAFN;MAGFC,IAAI,EAAE,IAHJ;MAIFC,KAAK,EAAE,IAJL;MAKFC,KAAK,EAAE,IALL;MAMFC,MAAM,EAAE,IANN;MAOFC,GAAG,EAAE;IAPH,CAAN;EAUH,CAbU;;EAcXC,OAAO,EAAC;IACJ;IACA,MAAMC,SAAN,GAAiB;MACb,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,8BAAD,CAAvB;MACA,MAAMC,GAAG,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAlB;MAEAC,OAAO,CAACC,GAAR,CAAYH,GAAZ;MAEA,KAAKX,OAAL,GAAeW,GAAG,CAACX,OAAnB;MACA,KAAKC,MAAL,GAAcU,GAAG,CAACV,MAAlB;IACH,CAVG;;IAWJ,MAAMc,SAAN,CAAgBC,CAAhB,EAAkB;MAEdA,CAAC,CAACC,cAAF;MAEA,MAAMC,KAAK,GAAG;QACVhB,IAAI,EAAE,KAAKA,IADD;QAEVC,KAAK,EAAE,KAAKA,KAFF;QAGVC,KAAK,EAAE,KAAKA,KAHF;QAIVC,MAAM,EAAE;MAJE,CAAd;MAOA,MAAMc,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeH,KAAf,CAAlB,CAXc,CAYb;;MACD,MAAMT,GAAG,GAAG,MAAMC,KAAK,CAAC,8BAAD,EAAgC;QACnDY,MAAM,EAAE,MAD2C;QAEnDC,OAAO,EAAE;UAAC,gBAAe;QAAhB,CAF0C;QAGnDC,IAAI,EAAEL;MAH6C,CAAhC,CAAvB;MAMA,MAAMR,GAAG,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAlB;MACAC,OAAO,CAACC,GAAR,CAAYH,GAAZ;MACA,KAAKL,GAAL,GAAY,6BAA4BK,GAAG,CAACT,IAAK,GAAjD;MAEAuB,UAAU,CAAC,MAAM;QACb,KAAKnB,GAAL,GAAW,EAAX;MACH,CAFS,EAEP,IAFO,CAAV;MAIA,KAAKJ,IAAL,GAAY,EAAZ;MACA,KAAKC,KAAL,GAAa,EAAb;MACA,KAAKC,KAAL,GAAa,EAAb;IAEH;;EA1CG,CAdG;;EA0DXsB,OAAO,GAAE;IACL,KAAKlB,SAAL;EACH,CA5DU;;EA6DXmB,UAAU,EAAC;IACP9B;EADO;AA7DA,CAAf","names":["Mensage","name","data","sabores","bordas","nome","sabor","borda","status","msg","methods","getPizzas","req","fetch","res","json","console","log","postOrder","e","preventDefault","order","orderJson","JSON","stringify","method","headers","body","setTimeout","mounted","components"],"sourceRoot":"","sources":["/home/jns/workspace/pizzaria/src/components/PizzaForm.vue"],"sourcesContent":["<template>\n    <div>\n        <div>\n            <form id=\"pizza-form\" @submit=\"postOrder($event)\">\n                <h1>Fa√ßa seu pedido</h1>\n                <Mensage :msg=\"msg\" v-show=\"msg\"/>\n                <div class=\"input-container\">\n                    <label class=\"title-label\" for=\"nome\">Nome cliente:</label>\n                    <input type=\"text\" id=\"nome\" name=\"nome\" v-model=\"nome\" placeholder=\"Digite seu nome\">\n                </div>\n                <div class=\"input-container\">\n                    <label class=\"title-label\" for=\"sabor\">Escolha o sabor:</label>\n                    <select name=\"sabor\" id=\"sabor\" v-model=\"sabor\">\n                        <option value=\"\">--</option>\n                        <option v-for=\"sabor in sabores\" :key=\"sabor.id\" :value=\"sabor.sabor\">\n                            {{sabor.sabor}}\n                        </option>\n                    </select>\n                </div>\n                <!--<div class=\"input-container\">\n                    <label class=\"title-label\" id=\"borda-title\" for=\"borda\">Selecione o recheio da borda: </label>\n                    <div id=\"radio-container\" v-for=\"borda in bordas\" :key=\"borda.id\" :value=\"borda.tipo\">\n                        <input type=\"radio\" name=\"txtsexo\" :id=\"borda.id\">\n                        <label :for=\"borda.id\">{{borda.tipo}}</label>\n                    </div>\n                    </div>-->\n                    <div class=\"input-container\">\n                        <label class=\"title-label\" for=\"borda\">Escolha o sabor da borda:</label>\n                    <select name=\"borda\" id=\"borda\" v-model=\"borda\">\n                        <option value=\"\">--</option>\n                        <option v-for=\"borda in bordas\" :key=\"borda.id\" :value=\"borda.tipo\">\n                            {{borda.tipo}}\n                        </option>\n                    </select>\n                    </div>\n                <div class=\"input-container\">\n                    <input type=\"submit\" class=\"submit-btn\" value=\"Finalizar pedido\">\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Mensage from '../components/Mensage.vue'\n\nexport default {\n    name: \"PizzaForm\",\n    data(){\n        return{\n            sabores: null,\n            bordas: null,\n            nome: null,\n            sabor: null,\n            borda: null,\n            status: null,\n            msg: null\n\n        }\n    },\n    methods:{\n        //consumo dos dados\n        async getPizzas(){\n            const req = await fetch(\"http://localhost:3000/pizzas\");\n            const res = await req.json();\n\n            console.log(res)\n\n            this.sabores = res.sabores;\n            this.bordas = res.bordas;   \n        },\n        async postOrder(e){\n\n            e.preventDefault()\n\n            const order = {\n                nome: this.nome,\n                sabor: this.sabor,\n                borda: this.borda,\n                status: \"Solicitado\"\n            }\n\n            const orderJson = JSON.stringify(order)\n             //especifico do json server\n            const req = await fetch(\"http://localhost:3000/orders\",{\n                method: \"POST\",\n                headers: {\"Content-type\":\"application/json\"},\n                body: orderJson\n            });\n\n            const res = await req.json();\n            console.log(res);\n            this.msg = `Pedido feito com sucesso, ${res.nome}!`;\n\n            setTimeout(() => {\n                this.msg = ''\n            }, 2000);\n\n            this.nome = '';\n            this.sabor = '';\n            this.borda = '';\n\n        }\n    },\n    mounted(){\n        this.getPizzas();\n    },\n    components:{\n        Mensage\n    }\n\n}\n</script>\n\n<style scoped>\n    #pizza-form{\n        max-width: 400px;\n        margin: 0 auto;\n    }\n    .input-container{\n        display: flex;\n        flex-direction: column;\n        margin-bottom: 20px;\n    }\n    .title-label{\n        font-weight: bold;\n        margin-bottom: 15px;\n        color: #222;\n        padding: 5px 10px;\n        border-left: 4px solid tomato;\n    }\n    input,select {\n        padding: 5px 10px;\n        width: 100%;\n    }\n    #radio-container{\n        flex-direction: row;\n        flex-wrap: wrap;\n    }\n    #borda-title{\n        width: 100%;\n    }\n    #radio-container{\n        display: flex;\n        align-items: flex-start;\n        width: 50%;\n        margin-bottom: 20px;\n    }\n    #radio-container span,\n    #radio-container input {\n        width: auto;\n    }\n    #radio-container span{\n        margin-left: 6px;\n        font-weight: bold;\n    }\n    .submit-btn{\n        background-color: tomato;\n        color: azure;\n        font-weight: bold;\n        border: 2px solid rgba(253, 88, 59, 0.527);\n        padding: 10px;\n        font-size: 16px;\n        margin: 0 auto;    \n        cursor: pointer;\n        transition: .5s;\n    }\n    .submit-btn:hover{\n        background-color: transparent;\n        color: #222;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}