{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e4a38016\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  id: \"pizza-table\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Pedidos:\", -1));\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"table-head\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"orderId\"\n}, \"N°\"), /*#__PURE__*/_createElementVNode(\"div\", null, \"Cliente\"), /*#__PURE__*/_createElementVNode(\"div\", null, \"Pizza\"), /*#__PURE__*/_createElementVNode(\"div\", null, \"Borda\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"acoes\"\n}, \"Status\")])], -1));\n\nconst _hoisted_4 = {\n  id: \"table-rows\"\n};\nconst _hoisted_5 = {\n  class: \"orderId\"\n};\nconst _hoisted_6 = {\n  class: \"acoes\"\n};\nconst _hoisted_7 = [\"onChange\"];\nconst _hoisted_8 = [\"value\", \"selected\"];\nconst _hoisted_9 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.orders, order => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"row\",\n      key: order.id\n    }, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(order.id), 1), _createElementVNode(\"div\", null, _toDisplayString(order.nome), 1), _createElementVNode(\"div\", null, _toDisplayString(order.sabor), 1), _createElementVNode(\"div\", null, _toDisplayString(order.borda), 1), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"select\", {\n      name: \"status\",\n      id: \"status\",\n      onChange: $event => $options.updateOrder($event, order.id)\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.status, st => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: st.id,\n        value: st.tipo,\n        selected: order.status == st.tipo\n      }, _toDisplayString(st.tipo), 9, _hoisted_8);\n    }), 128))], 40, _hoisted_7), _createElementVNode(\"button\", {\n      class: \"delete-btn\",\n      onClick: $event => $options.deleteOrder(order.id)\n    }, \"Cancelar\", 8, _hoisted_9)])]);\n  }), 128))])]);\n}","map":{"version":3,"mappings":"AAAA,SAASA,kBAAkB,IAAIC,mBAA/B,EAAoDC,UAAU,IAAIC,WAAlE,EAA+EC,QAAQ,IAAIC,SAA3F,EAAsGC,SAAS,IAAIC,UAAnH,EAA+HC,kBAAkB,IAAIC,mBAArJ,EAA0KC,eAAe,IAAIC,gBAA7L,EAA+MC,WAAW,IAAIC,YAA9N,EAA4OC,UAAU,IAAIC,WAA1P,QAA6Q,KAA7Q;;AAEA,MAAMC,YAAY,GAAGC,CAAC,KAAKJ,YAAY,CAAC,iBAAD,CAAZ,EAAgCI,CAAC,GAACA,CAAC,EAAnC,EAAsCF,WAAW,EAAjD,EAAoDE,CAAzD,CAAtB;;AACA,MAAMC,UAAU,GAAG;EAAEC,EAAE,EAAE;AAAN,CAAnB;;AACA,MAAMC,UAAU,GAAG,aAAcJ,YAAY,CAAC,MAAM,aAAaf,mBAAmB,CAAC,IAAD,EAAO,IAAP,EAAa,UAAb,EAAyB,CAAC,CAA1B,CAAvC,CAA7C;;AACA,MAAMoB,UAAU,GAAG,aAAcL,YAAY,CAAC,MAAM,aAAaf,mBAAmB,CAAC,KAAD,EAAQ,IAAR,EAAc,CAChG,aAAaA,mBAAmB,CAAC,KAAD,EAAQ;EAAEkB,EAAE,EAAE;AAAN,CAAR,EAA8B,CAC5D,aAAalB,mBAAmB,CAAC,KAAD,EAAQ;EAAEqB,KAAK,EAAE;AAAT,CAAR,EAA8B,IAA9B,CAD4B,EAE5D,aAAarB,mBAAmB,CAAC,KAAD,EAAQ,IAAR,EAAc,SAAd,CAF4B,EAG5D,aAAaA,mBAAmB,CAAC,KAAD,EAAQ,IAAR,EAAc,OAAd,CAH4B,EAI5D,aAAaA,mBAAmB,CAAC,KAAD,EAAQ,IAAR,EAAc,OAAd,CAJ4B,EAK5D,aAAaA,mBAAmB,CAAC,KAAD,EAAQ;EAAEqB,KAAK,EAAE;AAAT,CAAR,EAA4B,QAA5B,CAL4B,CAA9B,CADgE,CAAd,EAQjF,CAAC,CARgF,CAAvC,CAA7C;;AASA,MAAMC,UAAU,GAAG;EAAEJ,EAAE,EAAE;AAAN,CAAnB;AACA,MAAMK,UAAU,GAAG;EAAEF,KAAK,EAAE;AAAT,CAAnB;AACA,MAAMG,UAAU,GAAG;EAAEH,KAAK,EAAE;AAAT,CAAnB;AACA,MAAMI,UAAU,GAAG,CAAC,UAAD,CAAnB;AACA,MAAMC,UAAU,GAAG,CAAC,OAAD,EAAU,UAAV,CAAnB;AACA,MAAMC,UAAU,GAAG,CAAC,SAAD,CAAnB;AAEA,OAAO,SAASC,MAAT,CAAgBC,IAAhB,EAAsBC,MAAtB,EAA8BC,MAA9B,EAAsCC,MAAtC,EAA8CC,KAA9C,EAAqDC,QAArD,EAA+D;EACpE,OAAQ5B,UAAU,IAAIE,mBAAmB,CAAC,KAAD,EAAQS,UAAR,EAAoB,CAC3DE,UAD2D,EAE3DC,UAF2D,EAG3DpB,mBAAmB,CAAC,KAAD,EAAQsB,UAAR,EAAoB,EACpChB,UAAU,CAAC,IAAD,CAAV,EAAkBE,mBAAmB,CAACJ,SAAD,EAAY,IAAZ,EAAkBF,WAAW,CAAC+B,KAAK,CAACE,MAAP,EAAgBC,KAAD,IAAW;IAC3F,OAAQ9B,UAAU,IAAIE,mBAAmB,CAAC,KAAD,EAAQ;MAC/Ca,KAAK,EAAE,KADwC;MAE/CgB,GAAG,EAAED,KAAK,CAAClB;IAFoC,CAAR,EAGtC,CACDlB,mBAAmB,CAAC,KAAD,EAAQuB,UAAR,EAAoBb,gBAAgB,CAAC0B,KAAK,CAAClB,EAAP,CAApC,EAAgD,CAAhD,CADlB,EAEDlB,mBAAmB,CAAC,KAAD,EAAQ,IAAR,EAAcU,gBAAgB,CAAC0B,KAAK,CAACE,IAAP,CAA9B,EAA4C,CAA5C,CAFlB,EAGDtC,mBAAmB,CAAC,KAAD,EAAQ,IAAR,EAAcU,gBAAgB,CAAC0B,KAAK,CAACG,KAAP,CAA9B,EAA6C,CAA7C,CAHlB,EAIDvC,mBAAmB,CAAC,KAAD,EAAQ,IAAR,EAAcU,gBAAgB,CAAC0B,KAAK,CAACI,KAAP,CAA9B,EAA6C,CAA7C,CAJlB,EAKDxC,mBAAmB,CAAC,KAAD,EAAQwB,UAAR,EAAoB,CACrCxB,mBAAmB,CAAC,QAAD,EAAW;MAC5ByC,IAAI,EAAE,QADsB;MAE5BvB,EAAE,EAAE,QAFwB;MAG5BwB,QAAQ,EAAEC,MAAM,IAAKT,QAAQ,CAACU,WAAT,CAAqBD,MAArB,EAA4BP,KAAK,CAAClB,EAAlC;IAHO,CAAX,EAIhB,EACAZ,UAAU,CAAC,IAAD,CAAV,EAAkBE,mBAAmB,CAACJ,SAAD,EAAY,IAAZ,EAAkBF,WAAW,CAAC+B,KAAK,CAACY,MAAP,EAAgBC,EAAD,IAAQ;MACxF,OAAQxC,UAAU,IAAIE,mBAAmB,CAAC,QAAD,EAAW;QAClD6B,GAAG,EAAES,EAAE,CAAC5B,EAD0C;QAElD6B,KAAK,EAAED,EAAE,CAACE,IAFwC;QAGlDC,QAAQ,EAAEb,KAAK,CAACS,MAAN,IAAgBC,EAAE,CAACE;MAHqB,CAAX,EAItCtC,gBAAgB,CAACoC,EAAE,CAACE,IAAJ,CAJsB,EAIX,CAJW,EAIRtB,UAJQ,CAAzC;IAKD,CANkE,CAA7B,EAMlC,GANkC,CADrC,EAJgB,EAYhB,EAZgB,EAYZD,UAZY,CADkB,EAcrCzB,mBAAmB,CAAC,QAAD,EAAW;MAC5BqB,KAAK,EAAE,YADqB;MAE5B6B,OAAO,EAAEP,MAAM,IAAKT,QAAQ,CAACiB,WAAT,CAAqBf,KAAK,CAAClB,EAA3B;IAFQ,CAAX,EAGhB,UAHgB,EAGJ,CAHI,EAGDS,UAHC,CAdkB,CAApB,CALlB,CAHsC,CAAzC;EA4BD,CA7BkE,CAA7B,EA6BlC,GA7BkC,CADD,EAApB,CAHwC,CAApB,CAAzC;AAoCD","names":["id","_createElementVNode","class","_createElementBlock","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","order","key","_toDisplayString","nome","sabor","borda","name","onChange","$options","$event","st","value","tipo","selected","status","_hoisted_8","onClick","_hoisted_9"],"sourceRoot":"","sources":["/home/jns/workspace/pizzaria/src/components/PizzaGrid.vue"],"sourcesContent":["<template>\n    <div id=\"pizza-table\">\n        <h1>Pedidos:</h1>\n      <div>\n          <div id=\"table-head\">\n              <div class=\"orderId\">N°</div>\n              <div>Cliente</div>\n              <div>Pizza</div>\n              <div>Borda</div>\n              <div class=\"acoes\">Status</div>\n          </div>\n      </div>\n      <div id=\"table-rows\" >\n        <div class=\"row\" v-for=\"order in orders\" :key=\"order.id\" >\n            <div class=\"orderId\" >{{order.id}}</div>\n                <div>{{order.nome}}</div>\n                <div>{{order.sabor}}</div>\n                <div>{{order.borda}}</div>\n                <div class=\"acoes\">\n                    <select name=\"status\" id=\"status\" @change=\"updateOrder($event,order.id)\">\n                        <option v-for=\"st in status\" :key=\"st.id\" :value=\"st.tipo\" :selected=\"order.status == st.tipo\">\n                            {{st.tipo}}\n                        </option>\n                    </select>\n                    <button class=\"delete-btn\" @click=\"deleteOrder(order.id)\">Cancelar</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"PizzaGrid\",\n    data(){\n        return{\n            orders: null,\n            status: []\n        }\n    },\n    methods:{\n        async getOrders(){\n            const req = await fetch(\"http://localhost:3000/orders\");\n            const res = await req.json();\n  \n            this.orders = res\n            console.log(this.orders);\n\n        },\n        async getStatus(){\n            const req = await fetch(\"http://localhost:3000/status\");\n            const res = await req.json();\n\n            this.status = res\n            console.log(this.status);\n\n        },\n        async deleteOrder(orderId){\n            //especifico do json server\n            const req = await fetch(`http://localhost:3000/orders/${orderId}`,{\n                method: \"DELETE\"\n            });\n\n            const res = await req.json();\n            //refresh page\n            this.getOrders();\n\n        },\n        async updateOrder(event,orderId){\n            const selectedStatus = event.target.value;\n\n            const resJson = JSON.stringify({status: selectedStatus});\n\n            const req = await fetch(`http://localhost:3000/orders/${orderId}`,{\n                method: \"PATCH\",\n                headers: {\"Content-Type\": \"application/json\"},\n                body: resJson\n            });\n\n            const res = await req.json();\n        }\n    },\n    mounted(){\n        this.getOrders();\n        //status\n        this.getStatus();\n    }\n        \n}\n</script>\n\n<style scoped>\n\n    #pizza-table{\n        max-width: 1100px;\n        margin: 0 auto;\n    }\n    #table-head,\n    #table-rows,\n    .row{\n        display: flex;\n        flex-wrap: wrap;\n    }\n    #table-head{\n        font-weight: bold;\n        padding: 12px;\n        border-bottom: 3px solid tomato; \n    }\n    #table-head div,\n    .row div{\n        width: 20%;\n    }\n    .row{\n        width: 100%;\n        padding: 12px;\n        border: 1px solid #2222\n    }\n    #table-head .orderId,\n    .row .orderId{\n        width: 5%;\n    }\n    select{\n        padding: 4px;\n        margin-right: 12px;\n        width: 55%;\n    }\n    .delete-btn{\n        background-color: tomato;\n        color: azure;\n        font-weight: bold;\n        border: 2px solid tomato;\n        padding: 10px;\n        margin: 0 auto;\n        cursor: pointer;\n        transition: .5s;\n    }\n    .delete-btn:hover{\n        background: azure;\n        color: #222;\n    }\n    #table-head .acoes,\n    .row .acoes{\n        margin-left: 100px;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}